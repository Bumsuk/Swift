# 코드 작성 원칙


## 지역적변화

코드를 수정할 때 함께 수정되어야 하는 부분을 최소화 시켜서 지역적인 변화만 일으키게 하는 것이 중요하다고 합니다. 그렇게 되면 전체 구조를 정확히 이해하지 못해도 수정해야 할 부분이 적어서 해당 코드만 명확하게 수정할 수 있습니다. 코드의 관리 비용을 낮추어 주며 여러 패턴들의 근간이 되는 원칙입니다.

## 최소중복

중복된 코드는 대부분 코드에 대한 이해 부족이나 귀차니즘때문에 발생하고는 합니다. 흔히 말하는 “복붙”이 중복 코드를 만들어 내는 주범입니다. 그 외에도 여러 형태의 중복이 발생할 수 있는데 중복된 코드는 통상 한군데서 수정이 발생하면 함께 수정되어야 하는 경우가 많습니다. 그렇기 때문에 중복된 코드가 많으면 코드 관리비용을 높이는 결과를 가져옵니다.

## 로직과 데이터의 결합

로직과 데이터를 한곳에 유지하는 것이 유리합니다. 로직은 데이터를 기본으로 동작하기 때문에 이것이 분리되어있으면 데이터 수정 후 다시 로직을 수정하기위해 코드를 뒤져야 하므로 관리비용을 높이게 됩니다.

## 대칭성

코드는 대칭을 이루는 것이 좋습니다. 예로 add가 있으면 remove가 있는 것이 좋습니다. 객체의 생성과 소멸 역시 대칭성을 지켜야 합니다. 코드가 대칭성을 이루면 일단 이해하기 편해지며 중복을 제거하는데 유리합니다.

## 선언적표현

명령형 프로그래밍은 코드를 따라가면서 읽어야 한다는 단점이 있습니다. 하지만 선언적 표현을 적절히 사용하므로써 이해하기 쉬운 코드를 작성할 수 있습니다. 모든 코드를 선언적 표현으로 하기는 힘들지만 선언적표현은 분명 코드를 읽기 쉽게 해줍니다. Objective-C나 Swift가 매우 강력한 선언적표현을 지원한다고 볼 수는 없지만 기존의 기능만으로도 충분히 더 나은 가독성을 제공할 수 있습니다.

예를 들어 어떤 view들의 특정 메소드를 실행해야 한다고 할 때 그 view들을 가지는 array같은 것을 앞에서 선언해주므로서 해당 동작이 어떤 view들에게 해당되는지 한눈에 알아볼 수 있게 해줄 수 있습니다.

또는 dictionary에 key, value로 특정 메소드들을 넣어서 if나 switch를 사용하지 않고 메소드를 실행하는것 같은 스타일의 코딩 역시 특정 상태와 실행할 함수를 “선언적”으로 표현하므로써 조금 더 읽기 쉽게 해줍니다.

```swift
private lazy var keyCodeHandlers: [KeyCode: () -> Void] = {
    return [.up: self.upArrowDown,
            .right: self.rightArrowDown,
            .left: self.leftArrowDown,
            .down: self.downArrowDown]
} ()
```
## 변화율 

변화율은 시간적 대칭성을 말합니다. 만일 어떤 객체의 필드가 변경되는데 최선의 방법은 한꺼번에 모두 변경 되는 것이지만 경우에 따라 그렇지 못한 경우도 있을 것입니다. 이런 경우 함께 변화되어야 할 부분끼리 분리를 해주므로써 개발자의 의도를 잘 전달할 수 있습니다.
